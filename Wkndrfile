#!/usr/bin/env ruby

Wkndr.start { |gl|
  log!(:wkndr_start_file, gl)

  gl.lookat(0, 0.0, 500.0, 0.0, 0.0, 0.0, 0.01, 200.0)

  cube = Cube.new(1.0, 1.0, 1.0, 5.0)

  gl.event { |typed_msg|
    log!(:ws, typed_msg)
  }

  gl.update { |global_time, delta_time|
    gl.drawmode {
      gl.threed {
        gl.draw_grid(10, 10.0)
        cube.draw(true)
      }

      gl.twod {
        gl.button(0.0, 0.0, 250.0, 20.0, "start #{global_time.inspect} #{delta_time.inspect}") {
          gl.emit({"s" => "getCode"})
        }
      }
    }
  }
}
